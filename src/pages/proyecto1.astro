---
import Layout from '../layouts/Layout.astro'

---
<Layout>
    <div slot="article" class="w-full flex justify-center dark:bg-violet-200 dark:text-white mt-5 mb-5">
		<div class=" md:max-w-5xl md:flex items-center justify-center">
			<div class=" w-full flex justify-center md:hidden mt-16 mb-10">
			</div>
			<div>
				<div class=" ml-5  p-3 rounded-xl" >
					<h1 class="text-2xl font-bold italic text-transparent bg-clip-text bg-gradient-to-r from-gray-600 via-purple-500 to-violet-400">Proyecto 1 (MEMORAMA)</h1>
				</div>
    			
                
			</div>
      <div class=" hidden md:flex justify-end w-24 transition shadow-lg hover:shadow-2xl opacity-80 hover:opacity-100 hover:scale-105">
      </div>

		</div>
    
	</div>

	<div slot="article" class="w-full flex justify-center dark:bg-violet-200 dark:text-white mt-5 mb-5">
		<div id="memorama">
			<div class="fila">
			  <img id="card0" src="/Altaria.jpg" onclick="voltearCarta(0);">
			  <img id="card1" src="/Altaria.jpg" onclick="voltearCarta(1);">
			  <img id="card2" src="/Altaria.jpg" onclick="voltearCarta(2);">
			  <img id="card3" src="/Altaria.jpg" onclick="voltearCarta(3);">
			</div>
			<div class="fila">
			  <img id="card4" src="/Altaria.jpg" onclick="voltearCarta(4);">
			  <img id="card5" src="/Altaria.jpg" onclick="voltearCarta(5);">
			  <img id="card6" src="/Altaria.jpg" onclick="voltearCarta(6);">
			  <img id="card7" src="/Altaria.jpg" onclick="voltearCarta(7);">
			</div>
			<div class="fila">
			  <img id="card8" src="/Altaria.jpg" onclick="voltearCarta(8);">
			  <img id="card9" src="/Altaria.jpg" onclick="voltearCarta(9);">
			  <img id="card10" src="/Altaria.jpg" onclick="voltearCarta(10);">
			  <img id="card11" src="/Altaria.jpg" onclick="voltearCarta(11);">
			</div>
		  </div>
	</div>
</Layout>

<script lang="js">
	let imgArr = [
  "/C.png",
  "/C++.png",
  "/GO.png",
  "/JAVA.png",
  "/PYTHON.png",
  "/RUST.png",
  "/C.png",
  "/C++.png",
  "/GO.png",
  "/JAVA.png",
  "/PYTHON.png",
  "/RUST.png",
];

let numsA = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11];

shuffle(numsA);

let CartaVolteada = [];
let ContadorDeClicks = [];
let Fin = 0;
let contadorCV = 0;

function voltearCarta(p) {
  document.getElementById("card" + p).src = imgArr[numsA[p]];
  CartaVolteada.push(document.getElementById("card" + p).src);
  ContadorDeClicks.push(document.getElementById("card" + p).id);
  if (CartaVolteada.length == 2) {
	setTimeout(() => {
	  if (CartaVolteada[0] != CartaVolteada[1]) {
		document.getElementById(ContadorDeClicks[0]).src = "/Altaria.jpg";
		document.getElementById(ContadorDeClicks[1]).src = "/Altaria.jpg";
	  } else {
		Fin += 2;
		ganar();
	  }
	  CartaVolteada = [];
	  ContadorDeClicks = [];
	}, 300);
  }
}

function ganar() {
  if (Fin == 12) {
	Fin = 0;
	contadorCV++;
	setTimeout(() => {
	  for (let i = 0; i < 12; i++) {
		document.getElementById("card" + i).src ="/Altaria.jpg";
	  }
	}, 999);
	shuffle(numsA);
  }
}

function shuffle(array) {
  let i = array.length,
	  j, temp;
  while (--i > 0) {
	j = Math.floor(Math.random() * (i + 1));
	temp = array[j];
	array[j] = array[i];
	array[i] = temp;
  }
}
</script>

<style>
  .fila {
	display: flex;
  }

  .fila img {
	  width: 150px;
		height: 175px;
		margin: 5px;
	   border: 5px solid rgb(32, 30, 32); 
  }
  img:hover{
		transform: scale(1.10, 1.10);
  }
</style>